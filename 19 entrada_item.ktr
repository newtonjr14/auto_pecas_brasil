<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>19 entrada_item</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <directory>/</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection/>
        <schema/>
        <table/>
        <size_limit_lines/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject/>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject/>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject/>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject/>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection/>
        <schema/>
        <table/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2025/07/29 10:35:06.112</created_date>
    <modified_user>-</modified_user>
    <modified_date>2025/07/29 10:35:06.112</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>BANCO GSI - FIREBIRD</name>
    <server>localhost</server>
    <type>FIREBIRD</type>
    <access>Native</access>
    <database>C:\Conversao\Und Presidente Prudente\Auto Pecas Brasil\banco\dados.FDB</database>
    <port>3050</port>
    <username>SYSDBA</username>
    <password>Encrypted 2be98afc86aa7c3d2fe4bfa2986c1fd8d</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>EXTRA_OPTION_FIREBIRD.columnLabelForName</code>
        <attribute>true</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3050</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>GANSO</name>
    <server>localhost</server>
    <type>FIREBIRD</type>
    <access>Native</access>
    <database>C:\Conversao\Und Presidente Prudente\Auto Pecas Brasil\Ganso.IB</database>
    <port>3050</port>
    <username>SYSDBA</username>
    <password>Encrypted 2be98afc86aa7c3d2fe4bfa2986c1fd8d</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>EXTRA_OPTION_FIREBIRD.columnLabelForName</code>
        <attribute>true</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>3050</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Select values</from>
      <to>String operations</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>String operations</from>
      <to>Strings cut</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Strings cut</from>
      <to>Select values 4</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>FormulaCfop1</from>
      <to>lproduto_parametros</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>If field value is null</from>
      <to>Formula 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>lentrada</from>
      <to>FormulaCfop1</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>lproduto_parametros</from>
      <to>If field value is null</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 4</from>
      <to>lproduto</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Add constants 2</from>
      <to>Formula</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>lcfop</from>
      <to>Modified JavaScript value CFOP</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Modified JavaScript value CFOP</from>
      <to>Add constants 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Formula 2</from>
      <to>lcfop</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>lproduto</from>
      <to>lproduto 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>lproduto 2</from>
      <to>lentrada</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ajustes</from>
      <to>_ajustes</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ajustes 2</from>
      <to>b 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>b 2</from>
      <to>_ajustes 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>entrada_item</from>
      <to>b</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>b</from>
      <to>Select values</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Formula</from>
      <to>gen</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>gen</from>
      <to>_entrada_item</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>_entrada_item 3</from>
      <to>_entrada_item 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>_entrada_item</from>
      <to>b 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>b 3</from>
      <to>_entrada_item 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>_ajustes 2</from>
      <to>_ajustes 2 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>_ajustes</from>
      <to>_ajustes 3</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>Add constants 2</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>fracao_compra1</name>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>1</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>codigo_estoque</name>
        <type>Integer</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>1</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>item_derivador</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>N</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>entra_estoque_ao_inserir</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>N</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>f_cod_formula_venda_minimo</name>
        <type>Integer</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>1</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>tipo_calculo_ipi</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>P</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>tipo_calculo_pis</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>P</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>tipo_calculo_cofins</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>P</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>f_cod_formula_custo</name>
        <type>Integer</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>1</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>f_cod_formula_venda</name>
        <type>Integer</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>1</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>f_reducao_baseicms_ent</name>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>0</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>f_lucro_minimo</name>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>0</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>f_inflacao</name>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>0</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>f_margem_liquida</name>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>0</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>f_despesa_operacional</name>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>0</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>f_despesa_adicional</name>
        <type>Number</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>0</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>movim_estq_sn</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>N</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>834</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Formula</name>
    <type>Formula</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <formula>
      <field_name>preco_venda_sugerido_old</field_name>
      <formula_string>[valor_unitario] * [percentual]</formula_string>
      <value_type>Number</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field/>
    </formula>
    <formula>
      <field_name>preco_venda_novo_old</field_name>
      <formula_string>[valor_unitario] * [percentual]</formula_string>
      <value_type>Number</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field/>
    </formula>
    <formula>
      <field_name>preco_venda_old</field_name>
      <formula_string>[valor_unitario] * [percentual]</formula_string>
      <value_type>Number</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field/>
    </formula>
    <formula>
      <field_name>f_preco_venda_minimo_sug_old</field_name>
      <formula_string>[preco_venda] *0.90</formula_string>
      <value_type>Number</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field/>
    </formula>
    <formula>
      <field_name>preco_minimo_venda_novo_old</field_name>
      <formula_string>[preco_venda] *0.90</formula_string>
      <value_type>Number</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field/>
    </formula>
    <formula>
      <field_name>f_custo_reposicao_old</field_name>
      <formula_string>[valor_unitario]</formula_string>
      <value_type>Number</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field/>
    </formula>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>928</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Formula 2</name>
    <type>Formula</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <formula>
      <field_name>v1</field_name>
      <formula_string>if([f_lucro]&gt;0;[f_lucro];0)</formula_string>
      <value_type>Number</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field>f_lucro</replace_field>
    </formula>
    <formula>
      <field_name>percentual</field_name>
      <formula_string>([f_lucro] + 100) / 100</formula_string>
      <value_type>Number</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field/>
    </formula>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>552</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>FormulaCfop1</name>
    <type>Formula</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <formula>
      <field_name>v1</field_name>
      <formula_string>if([codigo_cfop_temp]&lt;4000;[codigo_cfop_temp];1102)</formula_string>
      <value_type>Integer</value_type>
      <value_length>-1</value_length>
      <value_precision>-1</value_precision>
      <replace_field>codigo_cfop_temp</replace_field>
    </formula>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>270</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>If field value is null</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <replaceAllByValue/>
    <replaceAllMask/>
    <selectFields>Y</selectFields>
    <selectValuesType>N</selectValuesType>
    <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>f_lucro</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>458</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Modified JavaScript value CFOP</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>if(codigo_cfop >= 1000 &amp;&amp; codigo_cfop &lt;= 1999){
  
  if(uf != 'SP'){
    codigo_cfop = codigo_cfop + 1000;
  }

} else if(codigo_cfop >= 2000 &amp;&amp; codigo_cfop &lt;= 2999){
    
    if(uf == 'SP'){
      codigo_cfop = codigo_cfop - 1000; 
    }
    
  }

</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>codigo_cfop</name>
        <rename>codigo_cfop</rename>
        <type>Integer</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>740</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>CODIGO_ENTRADA_ANTERIOR</name>
        <rename>CODIGO_ENTRADA_ANTERIOR</rename>
        <type>Integer</type>
        <length>9</length>
        <precision>0</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CODIGO_PRODUTO_ANTERIOR</name>
        <rename>CODIGO_PRODUTO_ANTERIOR</rename>
        <type>Integer</type>
        <length>9</length>
        <precision>0</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>FRACAO_COMPRA2</name>
        <rename>FRACAO_COMPRA2</rename>
        <type>Integer</type>
        <length>9</length>
        <precision>0</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QUANTIDADE</name>
        <rename>QUANTIDADE</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>VALOR_UNITARIO</name>
        <rename>VALOR_UNITARIO</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_DESCONTO</name>
        <rename>F_DESCONTO</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_BASE_CALCULO_ICMS</name>
        <rename>F_BASE_CALCULO_ICMS</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_ST_BASEICMS</name>
        <rename>F_ST_BASEICMS</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_ST_VALORICMS</name>
        <rename>F_ST_VALORICMS</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_VALOR_TOTAL_PIS</name>
        <rename>F_VALOR_TOTAL_PIS</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_VALOR_TOTAL_COFINS</name>
        <rename>F_VALOR_TOTAL_COFINS</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>ALIQUOTA_ICMS</name>
        <rename>ALIQUOTA_ICMS</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_BASE_CALCULO_PIS</name>
        <rename>F_BASE_CALCULO_PIS</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_BASE_CALCULO_COFINS</name>
        <rename>F_BASE_CALCULO_COFINS</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_VALOR_TOTAL_IPI</name>
        <rename>F_VALOR_TOTAL_IPI</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_PIS_COMPRA</name>
        <rename>F_PIS_COMPRA</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_COFINS_COMPRA</name>
        <rename>F_COFINS_COMPRA</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_FRETE_CIF</name>
        <rename>F_FRETE_CIF</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_OUTRA_DESPESA</name>
        <rename>F_OUTRA_DESPESA</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_CUSTO_MEDIO</name>
        <rename>F_CUSTO_MEDIO</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_PMZ</name>
        <rename>F_PMZ</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>PRECO_VENDA_SUGERIDO</name>
        <rename>PRECO_VENDA_SUGERIDO</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>PRECO_VENDA_NOVO</name>
        <rename>PRECO_VENDA_NOVO</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>PRECO_VENDA</name>
        <rename>PRECO_VENDA</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_PRECO_VENDA_MINIMO_SUG</name>
        <rename>F_PRECO_VENDA_MINIMO_SUG</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>PRECO_MINIMO_VENDA_NOVO</name>
        <rename>PRECO_MINIMO_VENDA_NOVO</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>F_CUSTO_REPOSICAO</name>
        <rename>F_CUSTO_REPOSICAO</rename>
        <type>Number</type>
        <length>15</length>
        <precision>4</precision>
        <conversion_mask>#.####</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol>.</decimal_symbol>
        <grouping_symbol>,</grouping_symbol>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CST_CSOSN</name>
        <rename>CST_CSOSN</rename>
        <type>String</type>
        <length>3</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CST_PIS</name>
        <rename>CST_PIS</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CST_COFINS</name>
        <rename>CST_COFINS</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CST_IPI</name>
        <rename>CST_IPI</rename>
        <type>String</type>
        <length>3</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CODIGO_PRODUTO_FORNECEDOR</name>
        <rename>CODIGO_PRODUTO_FORNECEDOR</rename>
        <type>String</type>
        <length>20</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CODIGO_CFOP_TEMP</name>
        <rename>CODIGO_CFOP_TEMP</rename>
        <type>String</type>
        <length>6</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TRIBUTO_COMPRA</name>
        <rename>TRIBUTO_COMPRA</rename>
        <type>String</type>
        <length>24</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>464</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Select values 4</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>codigo_cfop_temp</name>
        <rename>codigo_cfop_temp</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>896</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>String operations</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>CST_CSOSN</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>N</init_cap>
        <mask_xml>None</mask_xml>
        <digits>only</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>CST_PIS</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>N</init_cap>
        <mask_xml>None</mask_xml>
        <digits>only</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>CST_COFINS</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>N</init_cap>
        <mask_xml>None</mask_xml>
        <digits>only</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>CST_IPI</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>N</init_cap>
        <mask_xml>None</mask_xml>
        <digits>only</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>CODIGO_PRODUTO_FORNECEDOR</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>N</init_cap>
        <mask_xml>None</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>CODIGO_CFOP_TEMP</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>N</init_cap>
        <mask_xml>None</mask_xml>
        <digits>only</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>TRIBUTO_COMPRA</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>N</init_cap>
        <mask_xml>None</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>608</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Strings cut</name>
    <type>StringCut</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>CST_CSOSN</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>4</cut_to>
      </field>
      <field>
        <in_stream_name>CST_PIS</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>2</cut_to>
      </field>
      <field>
        <in_stream_name>CST_COFINS</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>2</cut_to>
      </field>
      <field>
        <in_stream_name>CST_IPI</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>2</cut_to>
      </field>
      <field>
        <in_stream_name>CODIGO_PRODUTO_FORNECEDOR</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>60</cut_to>
      </field>
      <field>
        <in_stream_name>CODIGO_CFOP_TEMP</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>4</cut_to>
      </field>
      <field>
        <in_stream_name>TRIBUTO_COMPRA</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>5</cut_to>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>752</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>_ajustes</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>N</replace_variables>
    <quoteString>N</quoteString>
    <sql>alter trigger entrada_item_ad0 inactive;
alter trigger entrada_item_ai0 inactive;
alter trigger entrada_item_au0 inactive;
alter trigger entrada_item_bi0 inactive;
alter trigger entrada_item_ai_frac inactive;
alter trigger entrada_item_au_frac inactive;
alter trigger entrada_item_au1 inactive;
alter trigger entrada_item_ad1 inactive;
alter trigger entrada_item_ad2 inactive;
alter trigger entrada_item_au2_devfrac inactive;
alter trigger entrada_item_bd0 inactive;
alter trigger entrada_item_bu0 inactive;
alter trigger entrada_item_augrade inactive;


CREATE TABLE ENTRADA_ITEM_TEMP (
    CODIGO INTEGER,
    CODIGO_ENTRADA INTEGER,
    CODIGO_PRODUTO INTEGER,
    F_COD_FORMULA_CUSTO INTEGER,
    F_COD_FORMULA_VENDA INTEGER,
    QUANTIDADE NUMERIC(18,3),
    VALOR_UNITARIO NUMERIC(18,6),
    FRACAO_COMPRA1 NUMERIC(18,3),
    FRACAO_COMPRA2 NUMERIC(18,3),
    ALIQUOTA_ICMS NUMERIC(18,2),
    ALIQUOTA_IPI NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,6),
    PRECO_VENDA_ANTERIOR NUMERIC(18,6),
    PRECO_VENDA_SUGERIDO NUMERIC(18,6),
    PRECO_VENDA_NOVO NUMERIC(18,6),
    F_CUSTO_REPOSICAO NUMERIC(18,6),
    F_PMZ NUMERIC(18,6),
    F_ICMS_VENDA NUMERIC(18,2),
    F_ICMS_COMPRA NUMERIC(18,2),
    F_PIS_VENDA NUMERIC(18,4),
    F_PIS_COMPRA NUMERIC(18,4),
    F_COFINS_VENDA NUMERIC(18,4),
    F_IPI_COMPRA NUMERIC(18,2),
    F_COFINS_SUBST_COMPRA NUMERIC(18,4),
    F_PIS_SUBST_COMPRA NUMERIC(18,4),
    F_SUBSTITUICAO_COMPRA NUMERIC(18,2),
    F_DESPESA_OPERACIONAL NUMERIC(18,2),
    F_DESPESA_ADICIONAL NUMERIC(18,2),
    F_OUTRA_DESPESA NUMERIC(18,2),
    F_FRETE_COMPRA NUMERIC(18,2),
    F_LUCRO NUMERIC(18,2),
    F_INFLACAO NUMERIC(18,2),
    CODIGO_ESTOQUE INTEGER,
    BALANCO_ESTOQUE VARCHAR(1),
    QTD_BALANCO_ESTOQUE NUMERIC(18,3),
    CODIGO_PEDIDO_ITEM INTEGER,
    CODIGO_REQUISICAO_ITEM INTEGER,
    F_NOTA_BASE_ICMS NUMERIC(18,2),
    F_NOTA_VALOR_ICMS NUMERIC(18,2),
    F_NOTA_BASE_ICMS_SUBST NUMERIC(18,2),
    F_NOTA_VALOR_ICMS_SUBST NUMERIC(18,2),
    F_NOTA_VALOR_FRETE NUMERIC(18,2),
    F_NOTA_VALOR_SEGURO NUMERIC(18,2),
    F_NOTA_OUTRAS_DESPESAS NUMERIC(18,2),
    F_NOTA_VALOR_IPI NUMERIC(18,2),
    F_NOTA_TOTAL_DESCONTOS NUMERIC(18,2),
    F_NOTA_VALOR_EMBALAGEM NUMERIC(18,2),
    F_NOTA_TOTAL_PRODUTOS NUMERIC(18,2),
    F_NOTA_TOTAL_NOTA NUMERIC(18,2),
    MOVIM_ESTQ_SN VARCHAR(1),
    QUANTIDADE_DEVOLVIDO NUMERIC(18,3),
    ITEM_DERIVADOR VARCHAR(1),
    CODIGO_ITEM_DERIVADOR INTEGER,
    ENTRA_ESTOQUE_AO_INSERIR VARCHAR(1),
    QUANTIDADE_REC_FISICO NUMERIC(18,3),
    F_CUSTO_MEDIO NUMERIC(18,4),
    F_LUCRO_MINIMO NUMERIC(18,2),
    F_COD_FORMULA_VENDA_MINIMO INTEGER,
    AGENDAR_PRECO CHAR(1),
    PRECO_VENDA_MINIMO_ANTERIOR NUMERIC(18,6),
    F_PRECO_VENDA_MINIMO_SUG NUMERIC(18,6),
    PRECO_MINIMO_VENDA_NOVO NUMERIC(18,6),
    PRECO_VENDA NUMERIC(18,6),
    AGENDAR_PRECO_MINIMO CHAR(1),
    CODIGO_CFOP INTEGER,
    TRIBUTO_COMPRA VARCHAR(5),
    F_REDUCAO_BASEPISCOFINS_ENT NUMERIC(18,4),
    F_REDUCAO_BASEICMS_ENT NUMERIC(18,4),
    CODIGO_PRODUTO_FRACIONAMENTO INTEGER,
    CST_CSOSN CHAR(4),
    BONIFICACAO_DOACAO_BRINDE CHAR(1),
    CST_IPI CHAR(2),
    CODIGO_PRODUTO_FORNECEDOR VARCHAR(60),
    MOV_EST_ITEM_GRADE CHAR(1),
    COMISSAO_AVISTA NUMERIC(18,2),
    COMISSAO_APRAZO NUMERIC(18,2),
    F_ST_MVA NUMERIC(18,2),
    F_ST_BASEICMS NUMERIC(18,2),
    F_ST_VALORICMS NUMERIC(18,2),
    CUSTO_MEDIO_ANTERIOR NUMERIC(18,4),
    TRIBUTO_ORIGEM VARCHAR(5),
    F_COFINS_COMPRA NUMERIC(18,4),
    F_QTDE_COMPRA_UN NUMERIC(18,3),
    IMPORTADO_XML CHAR(1),
    CST_CSOSN_ORIGEM CHAR(4),
    F_SEGURO NUMERIC(18,2),
    F_DESCONTO NUMERIC(18,2),
    F_DESPESAS_ACESSORIAS NUMERIC(18,2),
    F_FRETE_CIF NUMERIC(18,2),
    F_FRETE_FOB NUMERIC(18,2),
    CST_PIS CHAR(2),
    F_BASE_CALCULO_PIS NUMERIC(18,2),
    CST_COFINS CHAR(2),
    F_BASE_CALCULO_COFINS NUMERIC(18,2),
    F_BASE_CALCULO_IPI NUMERIC(18,2),
    F_BASE_CALCULO_ICMS NUMERIC(18,2),
    F_RED_BC_ICMS_ST NUMERIC(18,2),
    F_ALIQUOTA_ICMS_ST NUMERIC(18,2),
    F_ICMSST_VALOR_RATEIO NUMERIC(18,2),
    RATEIO_FRETE_CIF CHAR(1),
    RATEIO_ICMSST CHAR(1),
    RATEIO_FRETE_FOB CHAR(1),
    TIPO_CALCULO_IPI CHAR(1),
    F_QTDE_UNIDADE_IPI NUMERIC(18,4),
    F_VALOR_UNIDADE_IPI NUMERIC(18,4),
    F_VALOR_TOTAL_IPI NUMERIC(18,4),
    TIPO_CALCULO_PIS CHAR(1),
    F_ALIQUOTA_VALOR_PIS NUMERIC(18,4),
    F_QTDE_VENDIDA_PIS NUMERIC(18,4),
    F_VALOR_TOTAL_PIS NUMERIC(18,4),
    TIPO_CALCULO_COFINS CHAR(1),
    F_ALIQUOTA_VALOR_COFINS NUMERIC(18,4),
    F_QTDE_VENDIDA_COFINS NUMERIC(18,4),
    F_VALOR_TOTAL_COFINS NUMERIC(18,4),
    F_IPI_VALOR_RATEIO NUMERIC(18,2),
    F_SEGURO_VALOR_RATEIO NUMERIC(18,2),
    F_OUTRAS_DESP_VALOR_RATEIO NUMERIC(18,2),
    F_EMBALAGEM_RATEIO NUMERIC(18,2),
    F_DESCONTO_RATEIO NUMERIC(18,2),
    NAO_ATUPRVEN_SE_INFERIOR CHAR(1),
    NAO_ATUPRVEN_SE_SUPERIOR CHAR(1),
    PMZ_ANTERIOR NUMERIC(18,6),
    CUSTO_REPOSICAO_ANTERIOR NUMERIC(18,6),
    QUANTIDADE_EM_DEVOLUCAO NUMERIC(18,3),
    PERCENTUAL_DIFERIMENTO NUMERIC(18,4),
    VALOR_DIFERIMENTO NUMERIC(18,2),
    VALOR_ICMS_DESONERADO NUMERIC(18,2),
    MOTIVO_DESONERACAO SMALLINT,
    CODIGO_FINALIDCOMPRA INTEGER,
    CODIGO_PRODUTO_PRF INTEGER,
    F_ST_VALORFCP NUMERIC(18,2),
    CODIGO_PRODUTO_FRACAO_COMPRA INTEGER,
    UCOM_I09 VARCHAR(6),
    F_MARGEM_LIQUIDA NUMERIC(18,2),
    QTDE_REST_CONCPEDIDO NUMERIC(18,3),
    NCM_ORIGEM VARCHAR(8),
    F_REDUCAO_BASEICMS_ENT_ORIGEM NUMERIC(18,4),
    F_BASE_CALCULO_ICMS_ORIGEM NUMERIC(18,2),
    ALIQUOTA_ICMS_ORIGEM NUMERIC(18,2),
    PERCENTUAL_DIFERIMENTO_ORIGEM NUMERIC(18,4),
    VALOR_DIFERIMENTO_ORIGEM NUMERIC(18,2),
    F_ST_MVA_ORIGEM NUMERIC(18,2),
    F_RED_BC_ICMS_ST_ORIGEM NUMERIC(18,2),
    F_ST_BASEICMS_ORIGEM NUMERIC(18,2),
    F_ALIQUOTA_ICMS_ST_ORIGEM NUMERIC(18,2),
    F_ST_VALORICMS_ORIGEM NUMERIC(18,2),
    F_ICMSST_VALOR_RATEIO_ORIGEM NUMERIC(18,2),
    F_ST_VALORFCP_ORIGEM NUMERIC(18,2),
    CST_IPI_ORIGEM CHAR(2),
    TIPO_CALCULO_IPI_ORIGEM CHAR(1),
    F_BASE_CALCULO_IPI_ORIGEM NUMERIC(18,2),
    ALIQUOTA_IPI_ORIGEM NUMERIC(18,2),
    F_VALOR_TOTAL_IPI_ORIGEM NUMERIC(18,4),
    F_IPI_VALOR_RATEIO_ORIGEM NUMERIC(18,2),
    F_QTDE_UNIDADE_IPI_ORIGEM NUMERIC(18,4),
    F_VALOR_UNIDADE_IPI_ORIGEM NUMERIC(18,4),
    CODIGO_CFOP_ORIGEM INTEGER,
    CST_PIS_ORIGEM CHAR(2),
    TIPO_CALCULO_PIS_ORIGEM CHAR(1),
    F_BASE_CALCULO_PIS_ORIGEM NUMERIC(18,2),
    F_PIS_COMPRA_ORIGEM NUMERIC(18,4),
    F_VALOR_TOTAL_PIS_ORIGEM NUMERIC(18,4),
    CST_COFINS_ORIGEM CHAR(2),
    TIPO_CALCULO_COFINS_ORIGEM CHAR(1),
    F_BASE_CALCULO_COFINS_ORIGEM NUMERIC(18,2),
    F_COFINS_COMPRA_ORIGEM NUMERIC(18,4),
    F_VALOR_TOTAL_COFINS_ORIGEM NUMERIC(18,4),
    F_ALIQUOTA_VALOR_PIS_ORIGEM NUMERIC(18,4),
    F_QTDE_VENDIDA_PIS_ORIGEM NUMERIC(18,4),
    F_ALIQUOTA_VALOR_COFINS_ORIGEM NUMERIC(18,4),
    F_QTDE_VENDIDA_COFINS_ORIGEM NUMERIC(18,4),
    CST_NATUREZA_RECEITA_PISCOFINS CHAR(3),
    IGNORAR_RF_ICMS_ST CHAR(1),
    IGNORAR_RF_FCP_ST CHAR(1),
    IGNORAR_RF_IPI CHAR(1),
    IGNORAR_RF_CFOP CHAR(1));



create index entrada_item_temp_idx1
on entrada_item_temp (codigo_entrada);

create index entrada_item_temp_idx2
on entrada_item_temp (codigo_produto);

create index entrada_item_temp_idx3
on entrada_item_temp (codigo_cfop);


</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>665</xloc>
      <yloc>66</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>_ajustes 2</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>N</replace_variables>
    <quoteString>N</quoteString>
    <sql>alter trigger entrada_item_ad0 active;
alter trigger entrada_item_ai0 active;
alter trigger entrada_item_au0 active;
alter trigger entrada_item_bi0 active;
alter trigger entrada_item_ai_frac active;
alter trigger entrada_item_au_frac active;
alter trigger entrada_item_au1 active;
alter trigger entrada_item_ad1 active;
alter trigger entrada_item_ad2 active;
alter trigger entrada_item_au2_devfrac active;
alter trigger entrada_item_bd0 active;
alter trigger entrada_item_bu0 active;
alter trigger entrada_item_augrade active;


execute procedure sp_setagen('gen_entrada_item_id', 'entrada_item','codigo');


update cfop c
set c.tipo = 'E'
where exists(select *
             from entrada_item ei
             where ei.codigo_cfop = c.codigo);



drop trigger tr_entit_cvd;


</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>698</xloc>
      <yloc>624</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>_ajustes 2 2</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>Y</single_statement>
    <replace_variables>N</replace_variables>
    <quoteString>N</quoteString>
    <sql>EXECUTE BLOCK
AS
  DECLARE VARIABLE SQL VARCHAR(255);
BEGIN
  FOR SELECT
        RDB$INDEX_NAME
      FROM RDB$INDICES

  INTO :SQL

  DO
  BEGIN
    SQL = 'SET STATISTICS INDEX ' || SQL;
    EXECUTE STATEMENT :SQL;
  END
END;

</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>815</xloc>
      <yloc>624</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>_entrada_item</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <schema/>
    <table>entrada_item</table>
    <commit>50000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>N</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
      <field>
        <column_name>FRACAO_COMPRA2</column_name>
        <stream_name>FRACAO_COMPRA2</stream_name>
      </field>
      <field>
        <column_name>QUANTIDADE</column_name>
        <stream_name>QUANTIDADE</stream_name>
      </field>
      <field>
        <column_name>VALOR_UNITARIO</column_name>
        <stream_name>VALOR_UNITARIO</stream_name>
      </field>
      <field>
        <column_name>F_DESCONTO</column_name>
        <stream_name>F_DESCONTO</stream_name>
      </field>
      <field>
        <column_name>F_BASE_CALCULO_ICMS</column_name>
        <stream_name>F_BASE_CALCULO_ICMS</stream_name>
      </field>
      <field>
        <column_name>F_ST_BASEICMS</column_name>
        <stream_name>F_ST_BASEICMS</stream_name>
      </field>
      <field>
        <column_name>F_ST_VALORICMS</column_name>
        <stream_name>F_ST_VALORICMS</stream_name>
      </field>
      <field>
        <column_name>F_VALOR_TOTAL_PIS</column_name>
        <stream_name>F_VALOR_TOTAL_PIS</stream_name>
      </field>
      <field>
        <column_name>F_VALOR_TOTAL_COFINS</column_name>
        <stream_name>F_VALOR_TOTAL_COFINS</stream_name>
      </field>
      <field>
        <column_name>ALIQUOTA_ICMS</column_name>
        <stream_name>ALIQUOTA_ICMS</stream_name>
      </field>
      <field>
        <column_name>F_BASE_CALCULO_PIS</column_name>
        <stream_name>F_BASE_CALCULO_PIS</stream_name>
      </field>
      <field>
        <column_name>F_BASE_CALCULO_COFINS</column_name>
        <stream_name>F_BASE_CALCULO_COFINS</stream_name>
      </field>
      <field>
        <column_name>F_VALOR_TOTAL_IPI</column_name>
        <stream_name>F_VALOR_TOTAL_IPI</stream_name>
      </field>
      <field>
        <column_name>F_PIS_COMPRA</column_name>
        <stream_name>F_PIS_COMPRA</stream_name>
      </field>
      <field>
        <column_name>F_COFINS_COMPRA</column_name>
        <stream_name>F_COFINS_COMPRA</stream_name>
      </field>
      <field>
        <column_name>F_FRETE_CIF</column_name>
        <stream_name>F_FRETE_CIF</stream_name>
      </field>
      <field>
        <column_name>F_OUTRA_DESPESA</column_name>
        <stream_name>F_OUTRA_DESPESA</stream_name>
      </field>
      <field>
        <column_name>F_CUSTO_MEDIO</column_name>
        <stream_name>F_CUSTO_MEDIO</stream_name>
      </field>
      <field>
        <column_name>F_PMZ</column_name>
        <stream_name>F_PMZ</stream_name>
      </field>
      <field>
        <column_name>PRECO_VENDA_SUGERIDO</column_name>
        <stream_name>PRECO_VENDA_SUGERIDO</stream_name>
      </field>
      <field>
        <column_name>PRECO_VENDA_NOVO</column_name>
        <stream_name>PRECO_VENDA_NOVO</stream_name>
      </field>
      <field>
        <column_name>PRECO_VENDA</column_name>
        <stream_name>PRECO_VENDA</stream_name>
      </field>
      <field>
        <column_name>F_PRECO_VENDA_MINIMO_SUG</column_name>
        <stream_name>F_PRECO_VENDA_MINIMO_SUG</stream_name>
      </field>
      <field>
        <column_name>PRECO_MINIMO_VENDA_NOVO</column_name>
        <stream_name>PRECO_MINIMO_VENDA_NOVO</stream_name>
      </field>
      <field>
        <column_name>F_CUSTO_REPOSICAO</column_name>
        <stream_name>F_CUSTO_REPOSICAO</stream_name>
      </field>
      <field>
        <column_name>CST_CSOSN</column_name>
        <stream_name>CST_CSOSN</stream_name>
      </field>
      <field>
        <column_name>CST_PIS</column_name>
        <stream_name>CST_PIS</stream_name>
      </field>
      <field>
        <column_name>CST_COFINS</column_name>
        <stream_name>CST_COFINS</stream_name>
      </field>
      <field>
        <column_name>CST_IPI</column_name>
        <stream_name>CST_IPI</stream_name>
      </field>
      <field>
        <column_name>CODIGO_PRODUTO_FORNECEDOR</column_name>
        <stream_name>CODIGO_PRODUTO_FORNECEDOR</stream_name>
      </field>
      <field>
        <column_name>TRIBUTO_COMPRA</column_name>
        <stream_name>TRIBUTO_COMPRA</stream_name>
      </field>
      <field>
        <column_name>CODIGO_PRODUTO</column_name>
        <stream_name>CODIGO_PRODUTO</stream_name>
      </field>
      <field>
        <column_name>CODIGO_ENTRADA</column_name>
        <stream_name>CODIGO_ENTRADA</stream_name>
      </field>
      <field>
        <column_name>F_LUCRO</column_name>
        <stream_name>f_lucro</stream_name>
      </field>
      <field>
        <column_name>F_PIS_VENDA</column_name>
        <stream_name>f_pis_venda</stream_name>
      </field>
      <field>
        <column_name>F_COFINS_VENDA</column_name>
        <stream_name>f_cofins_venda</stream_name>
      </field>
      <field>
        <column_name>F_ICMS_VENDA</column_name>
        <stream_name>f_icms_venda</stream_name>
      </field>
      <field>
        <column_name>CODIGO_CFOP</column_name>
        <stream_name>codigo_cfop</stream_name>
      </field>
      <field>
        <column_name>FRACAO_COMPRA1</column_name>
        <stream_name>fracao_compra1</stream_name>
      </field>
      <field>
        <column_name>CODIGO_ESTOQUE</column_name>
        <stream_name>codigo_estoque</stream_name>
      </field>
      <field>
        <column_name>ITEM_DERIVADOR</column_name>
        <stream_name>item_derivador</stream_name>
      </field>
      <field>
        <column_name>ENTRA_ESTOQUE_AO_INSERIR</column_name>
        <stream_name>entra_estoque_ao_inserir</stream_name>
      </field>
      <field>
        <column_name>F_COD_FORMULA_VENDA_MINIMO</column_name>
        <stream_name>f_cod_formula_venda_minimo</stream_name>
      </field>
      <field>
        <column_name>TIPO_CALCULO_IPI</column_name>
        <stream_name>tipo_calculo_ipi</stream_name>
      </field>
      <field>
        <column_name>TIPO_CALCULO_PIS</column_name>
        <stream_name>tipo_calculo_pis</stream_name>
      </field>
      <field>
        <column_name>TIPO_CALCULO_COFINS</column_name>
        <stream_name>tipo_calculo_cofins</stream_name>
      </field>
      <field>
        <column_name>F_COD_FORMULA_CUSTO</column_name>
        <stream_name>f_cod_formula_custo</stream_name>
      </field>
      <field>
        <column_name>F_COD_FORMULA_VENDA</column_name>
        <stream_name>f_cod_formula_venda</stream_name>
      </field>
      <field>
        <column_name>F_REDUCAO_BASEICMS_ENT</column_name>
        <stream_name>f_reducao_baseicms_ent</stream_name>
      </field>
      <field>
        <column_name>F_LUCRO_MINIMO</column_name>
        <stream_name>f_lucro_minimo</stream_name>
      </field>
      <field>
        <column_name>F_INFLACAO</column_name>
        <stream_name>f_inflacao</stream_name>
      </field>
      <field>
        <column_name>F_MARGEM_LIQUIDA</column_name>
        <stream_name>f_margem_liquida</stream_name>
      </field>
      <field>
        <column_name>F_DESPESA_OPERACIONAL</column_name>
        <stream_name>f_despesa_operacional</stream_name>
      </field>
      <field>
        <column_name>F_DESPESA_ADICIONAL</column_name>
        <stream_name>f_despesa_adicional</stream_name>
      </field>
      <field>
        <column_name>MOVIM_ESTQ_SN</column_name>
        <stream_name>movim_estq_sn</stream_name>
      </field>
      <field>
        <column_name>CODIGO</column_name>
        <stream_name>CODIGO</stream_name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1116</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>_entrada_item 2</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <schema/>
    <table>entrada_item_temp</table>
    <commit>50000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>N</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
      <field>
        <column_name>FRACAO_COMPRA2</column_name>
        <stream_name>FRACAO_COMPRA2</stream_name>
      </field>
      <field>
        <column_name>QUANTIDADE</column_name>
        <stream_name>QUANTIDADE</stream_name>
      </field>
      <field>
        <column_name>VALOR_UNITARIO</column_name>
        <stream_name>VALOR_UNITARIO</stream_name>
      </field>
      <field>
        <column_name>F_DESCONTO</column_name>
        <stream_name>F_DESCONTO</stream_name>
      </field>
      <field>
        <column_name>F_BASE_CALCULO_ICMS</column_name>
        <stream_name>F_BASE_CALCULO_ICMS</stream_name>
      </field>
      <field>
        <column_name>F_ST_BASEICMS</column_name>
        <stream_name>F_ST_BASEICMS</stream_name>
      </field>
      <field>
        <column_name>F_ST_VALORICMS</column_name>
        <stream_name>F_ST_VALORICMS</stream_name>
      </field>
      <field>
        <column_name>F_VALOR_TOTAL_PIS</column_name>
        <stream_name>F_VALOR_TOTAL_PIS</stream_name>
      </field>
      <field>
        <column_name>F_VALOR_TOTAL_COFINS</column_name>
        <stream_name>F_VALOR_TOTAL_COFINS</stream_name>
      </field>
      <field>
        <column_name>ALIQUOTA_ICMS</column_name>
        <stream_name>ALIQUOTA_ICMS</stream_name>
      </field>
      <field>
        <column_name>F_BASE_CALCULO_PIS</column_name>
        <stream_name>F_BASE_CALCULO_PIS</stream_name>
      </field>
      <field>
        <column_name>F_BASE_CALCULO_COFINS</column_name>
        <stream_name>F_BASE_CALCULO_COFINS</stream_name>
      </field>
      <field>
        <column_name>F_VALOR_TOTAL_IPI</column_name>
        <stream_name>F_VALOR_TOTAL_IPI</stream_name>
      </field>
      <field>
        <column_name>F_PIS_COMPRA</column_name>
        <stream_name>F_PIS_COMPRA</stream_name>
      </field>
      <field>
        <column_name>F_COFINS_COMPRA</column_name>
        <stream_name>F_COFINS_COMPRA</stream_name>
      </field>
      <field>
        <column_name>F_FRETE_CIF</column_name>
        <stream_name>F_FRETE_CIF</stream_name>
      </field>
      <field>
        <column_name>F_OUTRA_DESPESA</column_name>
        <stream_name>F_OUTRA_DESPESA</stream_name>
      </field>
      <field>
        <column_name>F_CUSTO_MEDIO</column_name>
        <stream_name>F_CUSTO_MEDIO</stream_name>
      </field>
      <field>
        <column_name>F_PMZ</column_name>
        <stream_name>F_PMZ</stream_name>
      </field>
      <field>
        <column_name>PRECO_VENDA_SUGERIDO</column_name>
        <stream_name>PRECO_VENDA_SUGERIDO</stream_name>
      </field>
      <field>
        <column_name>PRECO_VENDA_NOVO</column_name>
        <stream_name>PRECO_VENDA_NOVO</stream_name>
      </field>
      <field>
        <column_name>PRECO_VENDA</column_name>
        <stream_name>PRECO_VENDA</stream_name>
      </field>
      <field>
        <column_name>F_PRECO_VENDA_MINIMO_SUG</column_name>
        <stream_name>F_PRECO_VENDA_MINIMO_SUG</stream_name>
      </field>
      <field>
        <column_name>PRECO_MINIMO_VENDA_NOVO</column_name>
        <stream_name>PRECO_MINIMO_VENDA_NOVO</stream_name>
      </field>
      <field>
        <column_name>F_CUSTO_REPOSICAO</column_name>
        <stream_name>F_CUSTO_REPOSICAO</stream_name>
      </field>
      <field>
        <column_name>CST_CSOSN</column_name>
        <stream_name>CST_CSOSN</stream_name>
      </field>
      <field>
        <column_name>CST_PIS</column_name>
        <stream_name>CST_PIS</stream_name>
      </field>
      <field>
        <column_name>CST_COFINS</column_name>
        <stream_name>CST_COFINS</stream_name>
      </field>
      <field>
        <column_name>CST_IPI</column_name>
        <stream_name>CST_IPI</stream_name>
      </field>
      <field>
        <column_name>CODIGO_PRODUTO_FORNECEDOR</column_name>
        <stream_name>CODIGO_PRODUTO_FORNECEDOR</stream_name>
      </field>
      <field>
        <column_name>TRIBUTO_COMPRA</column_name>
        <stream_name>TRIBUTO_COMPRA</stream_name>
      </field>
      <field>
        <column_name>CODIGO_PRODUTO</column_name>
        <stream_name>CODIGO_PRODUTO</stream_name>
      </field>
      <field>
        <column_name>CODIGO_ENTRADA</column_name>
        <stream_name>CODIGO_ENTRADA</stream_name>
      </field>
      <field>
        <column_name>F_LUCRO</column_name>
        <stream_name>f_lucro</stream_name>
      </field>
      <field>
        <column_name>F_PIS_VENDA</column_name>
        <stream_name>f_pis_venda</stream_name>
      </field>
      <field>
        <column_name>F_COFINS_VENDA</column_name>
        <stream_name>f_cofins_venda</stream_name>
      </field>
      <field>
        <column_name>F_ICMS_VENDA</column_name>
        <stream_name>f_icms_venda</stream_name>
      </field>
      <field>
        <column_name>CODIGO_CFOP</column_name>
        <stream_name>codigo_cfop</stream_name>
      </field>
      <field>
        <column_name>FRACAO_COMPRA1</column_name>
        <stream_name>fracao_compra1</stream_name>
      </field>
      <field>
        <column_name>CODIGO_ESTOQUE</column_name>
        <stream_name>codigo_estoque</stream_name>
      </field>
      <field>
        <column_name>ITEM_DERIVADOR</column_name>
        <stream_name>item_derivador</stream_name>
      </field>
      <field>
        <column_name>ENTRA_ESTOQUE_AO_INSERIR</column_name>
        <stream_name>entra_estoque_ao_inserir</stream_name>
      </field>
      <field>
        <column_name>F_COD_FORMULA_VENDA_MINIMO</column_name>
        <stream_name>f_cod_formula_venda_minimo</stream_name>
      </field>
      <field>
        <column_name>TIPO_CALCULO_IPI</column_name>
        <stream_name>tipo_calculo_ipi</stream_name>
      </field>
      <field>
        <column_name>TIPO_CALCULO_PIS</column_name>
        <stream_name>tipo_calculo_pis</stream_name>
      </field>
      <field>
        <column_name>TIPO_CALCULO_COFINS</column_name>
        <stream_name>tipo_calculo_cofins</stream_name>
      </field>
      <field>
        <column_name>F_COD_FORMULA_CUSTO</column_name>
        <stream_name>f_cod_formula_custo</stream_name>
      </field>
      <field>
        <column_name>F_COD_FORMULA_VENDA</column_name>
        <stream_name>f_cod_formula_venda</stream_name>
      </field>
      <field>
        <column_name>F_REDUCAO_BASEICMS_ENT</column_name>
        <stream_name>f_reducao_baseicms_ent</stream_name>
      </field>
      <field>
        <column_name>F_LUCRO_MINIMO</column_name>
        <stream_name>f_lucro_minimo</stream_name>
      </field>
      <field>
        <column_name>F_INFLACAO</column_name>
        <stream_name>f_inflacao</stream_name>
      </field>
      <field>
        <column_name>F_MARGEM_LIQUIDA</column_name>
        <stream_name>f_margem_liquida</stream_name>
      </field>
      <field>
        <column_name>F_DESPESA_OPERACIONAL</column_name>
        <stream_name>f_despesa_operacional</stream_name>
      </field>
      <field>
        <column_name>F_DESPESA_ADICIONAL</column_name>
        <stream_name>f_despesa_adicional</stream_name>
      </field>
      <field>
        <column_name>MOVIM_ESTQ_SN</column_name>
        <stream_name>movim_estq_sn</stream_name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1398</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>_entrada_item 3</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <schema/>
    <table>entrada_item</table>
    <commit>50000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>N</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
      <field>
        <column_name>FRACAO_COMPRA2</column_name>
        <stream_name>FRACAO_COMPRA2</stream_name>
      </field>
      <field>
        <column_name>QUANTIDADE</column_name>
        <stream_name>QUANTIDADE</stream_name>
      </field>
      <field>
        <column_name>VALOR_UNITARIO</column_name>
        <stream_name>VALOR_UNITARIO</stream_name>
      </field>
      <field>
        <column_name>F_DESCONTO</column_name>
        <stream_name>F_DESCONTO</stream_name>
      </field>
      <field>
        <column_name>F_BASE_CALCULO_ICMS</column_name>
        <stream_name>F_BASE_CALCULO_ICMS</stream_name>
      </field>
      <field>
        <column_name>F_ST_BASEICMS</column_name>
        <stream_name>F_ST_BASEICMS</stream_name>
      </field>
      <field>
        <column_name>F_VALOR_TOTAL_PIS</column_name>
        <stream_name>F_VALOR_TOTAL_PIS</stream_name>
      </field>
      <field>
        <column_name>F_VALOR_TOTAL_COFINS</column_name>
        <stream_name>F_VALOR_TOTAL_COFINS</stream_name>
      </field>
      <field>
        <column_name>ALIQUOTA_ICMS</column_name>
        <stream_name>ALIQUOTA_ICMS</stream_name>
      </field>
      <field>
        <column_name>F_BASE_CALCULO_PIS</column_name>
        <stream_name>F_BASE_CALCULO_PIS</stream_name>
      </field>
      <field>
        <column_name>F_BASE_CALCULO_COFINS</column_name>
        <stream_name>F_BASE_CALCULO_COFINS</stream_name>
      </field>
      <field>
        <column_name>F_VALOR_TOTAL_IPI</column_name>
        <stream_name>F_VALOR_TOTAL_IPI</stream_name>
      </field>
      <field>
        <column_name>F_PIS_COMPRA</column_name>
        <stream_name>F_PIS_COMPRA</stream_name>
      </field>
      <field>
        <column_name>F_COFINS_COMPRA</column_name>
        <stream_name>F_COFINS_COMPRA</stream_name>
      </field>
      <field>
        <column_name>F_FRETE_CIF</column_name>
        <stream_name>F_FRETE_CIF</stream_name>
      </field>
      <field>
        <column_name>F_OUTRA_DESPESA</column_name>
        <stream_name>F_OUTRA_DESPESA</stream_name>
      </field>
      <field>
        <column_name>F_CUSTO_MEDIO</column_name>
        <stream_name>F_CUSTO_MEDIO</stream_name>
      </field>
      <field>
        <column_name>F_PMZ</column_name>
        <stream_name>F_PMZ</stream_name>
      </field>
      <field>
        <column_name>PRECO_VENDA_SUGERIDO</column_name>
        <stream_name>PRECO_VENDA_SUGERIDO</stream_name>
      </field>
      <field>
        <column_name>PRECO_VENDA_NOVO</column_name>
        <stream_name>PRECO_VENDA_NOVO</stream_name>
      </field>
      <field>
        <column_name>PRECO_VENDA</column_name>
        <stream_name>PRECO_VENDA</stream_name>
      </field>
      <field>
        <column_name>F_PRECO_VENDA_MINIMO_SUG</column_name>
        <stream_name>F_PRECO_VENDA_MINIMO_SUG</stream_name>
      </field>
      <field>
        <column_name>PRECO_MINIMO_VENDA_NOVO</column_name>
        <stream_name>PRECO_MINIMO_VENDA_NOVO</stream_name>
      </field>
      <field>
        <column_name>F_CUSTO_REPOSICAO</column_name>
        <stream_name>F_CUSTO_REPOSICAO</stream_name>
      </field>
      <field>
        <column_name>CST_CSOSN</column_name>
        <stream_name>CST_CSOSN</stream_name>
      </field>
      <field>
        <column_name>CST_PIS</column_name>
        <stream_name>CST_PIS</stream_name>
      </field>
      <field>
        <column_name>CST_COFINS</column_name>
        <stream_name>CST_COFINS</stream_name>
      </field>
      <field>
        <column_name>CST_IPI</column_name>
        <stream_name>CST_IPI</stream_name>
      </field>
      <field>
        <column_name>CODIGO_PRODUTO_FORNECEDOR</column_name>
        <stream_name>CODIGO_PRODUTO_FORNECEDOR</stream_name>
      </field>
      <field>
        <column_name>TRIBUTO_COMPRA</column_name>
        <stream_name>TRIBUTO_COMPRA</stream_name>
      </field>
      <field>
        <column_name>CODIGO_PRODUTO</column_name>
        <stream_name>CODIGO_PRODUTO</stream_name>
      </field>
      <field>
        <column_name>CODIGO_ENTRADA</column_name>
        <stream_name>CODIGO_ENTRADA</stream_name>
      </field>
      <field>
        <column_name>F_LUCRO</column_name>
        <stream_name>f_lucro</stream_name>
      </field>
      <field>
        <column_name>F_PIS_VENDA</column_name>
        <stream_name>f_pis_venda</stream_name>
      </field>
      <field>
        <column_name>F_COFINS_VENDA</column_name>
        <stream_name>f_cofins_venda</stream_name>
      </field>
      <field>
        <column_name>F_ICMS_VENDA</column_name>
        <stream_name>f_icms_venda</stream_name>
      </field>
      <field>
        <column_name>CODIGO_CFOP</column_name>
        <stream_name>codigo_cfop</stream_name>
      </field>
      <field>
        <column_name>FRACAO_COMPRA1</column_name>
        <stream_name>fracao_compra1</stream_name>
      </field>
      <field>
        <column_name>CODIGO_ESTOQUE</column_name>
        <stream_name>codigo_estoque</stream_name>
      </field>
      <field>
        <column_name>ITEM_DERIVADOR</column_name>
        <stream_name>item_derivador</stream_name>
      </field>
      <field>
        <column_name>ENTRA_ESTOQUE_AO_INSERIR</column_name>
        <stream_name>entra_estoque_ao_inserir</stream_name>
      </field>
      <field>
        <column_name>F_COD_FORMULA_VENDA_MINIMO</column_name>
        <stream_name>f_cod_formula_venda_minimo</stream_name>
      </field>
      <field>
        <column_name>TIPO_CALCULO_IPI</column_name>
        <stream_name>tipo_calculo_ipi</stream_name>
      </field>
      <field>
        <column_name>TIPO_CALCULO_PIS</column_name>
        <stream_name>tipo_calculo_pis</stream_name>
      </field>
      <field>
        <column_name>TIPO_CALCULO_COFINS</column_name>
        <stream_name>tipo_calculo_cofins</stream_name>
      </field>
      <field>
        <column_name>F_COD_FORMULA_CUSTO</column_name>
        <stream_name>f_cod_formula_custo</stream_name>
      </field>
      <field>
        <column_name>F_COD_FORMULA_VENDA</column_name>
        <stream_name>f_cod_formula_venda</stream_name>
      </field>
      <field>
        <column_name>F_REDUCAO_BASEICMS_ENT</column_name>
        <stream_name>f_reducao_baseicms_ent</stream_name>
      </field>
      <field>
        <column_name>F_LUCRO_MINIMO</column_name>
        <stream_name>f_lucro_minimo</stream_name>
      </field>
      <field>
        <column_name>F_INFLACAO</column_name>
        <stream_name>f_inflacao</stream_name>
      </field>
      <field>
        <column_name>F_MARGEM_LIQUIDA</column_name>
        <stream_name>f_margem_liquida</stream_name>
      </field>
      <field>
        <column_name>F_DESPESA_OPERACIONAL</column_name>
        <stream_name>f_despesa_operacional</stream_name>
      </field>
      <field>
        <column_name>F_DESPESA_ADICIONAL</column_name>
        <stream_name>f_despesa_adicional</stream_name>
      </field>
      <field>
        <column_name>MOVIM_ESTQ_SN</column_name>
        <stream_name>movim_estq_sn</stream_name>
      </field>
      <field>
        <column_name>CODIGO</column_name>
        <stream_name>CODIGO</stream_name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1304</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>ajustes</name>
    <type>RowGenerator</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>a</name>
        <type>Integer</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>1</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <limit>1</limit>
    <never_ending>N</never_ending>
    <interval_in_ms>5000</interval_in_ms>
    <row_time_field>now</row_time_field>
    <last_time_field>FiveSecondsAgo</last_time_field>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>498</xloc>
      <yloc>66</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>ajustes 2</name>
    <type>RowGenerator</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>a</name>
        <type>Integer</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>1</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <limit>1</limit>
    <never_ending>N</never_ending>
    <interval_in_ms>5000</interval_in_ms>
    <row_time_field>now</row_time_field>
    <last_time_field>FiveSecondsAgo</last_time_field>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>464</xloc>
      <yloc>624</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>b</name>
    <type>BlockUntilStepsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <steps>
      <step>
        <name>_ajustes 3</name>
        <CopyNr>0</CopyNr>
      </step>
    </steps>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>320</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>b 2</name>
    <type>BlockUntilStepsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <steps>
      <step>
        <name>_entrada_item 2</name>
        <CopyNr>0</CopyNr>
      </step>
    </steps>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>581</xloc>
      <yloc>624</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>b 3</name>
    <type>BlockUntilStepsFinish</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <steps>
      <step>
        <name>_entrada_item</name>
        <CopyNr>0</CopyNr>
      </step>
    </steps>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1210</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>entrada_item</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>BANCO GSI - FIREBIRD</connection>
    <sql>select
  e.codigo as codigo_entrada_anterior
, ei.codint as codigo_produto_anterior
, 1 as fracao_compra2

, ei.qtde as quantidade
, ei.vlunit as valor_unitario
, ei.vldesctounit as f_desconto
, ei.vlbaseicms as f_base_calculo_icms
, ei.vlbasesubstituicao as f_st_baseicms
, iif(ei.vlicmssubsunit &lt; 500000,ei.vlicmssubsunit,0.00) as f_st_valoricms
, ei.vlpis  as f_valor_total_pis
, ei.vlcofins as f_valor_total_cofins
, ei.icms as aliquota_icms
, ei.vlbasepis_cofins as f_base_calculo_pis
, ei.vlbasepis_cofins as f_base_calculo_cofins
, ei.vlpis as f_valor_total_ipi
, ei.aliqpis as f_pis_compra
, ei.aliqcofins as f_cofins_compra
, ei.vlfreteunit as f_frete_cif
, ei.vloutrasdespesasunit as f_outra_despesa
, ei.ultcusto as f_custo_medio
, ei.ultcusto as f_pmz

, iif(ei.precovenda &lt; 500000,ei.precovenda,0.00) as preco_venda_sugerido
, iif(ei.precovenda &lt; 500000,ei.precovenda,0.00) as preco_venda_novo
, iif(ei.precovenda &lt; 500000,ei.precovenda,0.00) as preco_venda
, iif(ei.precovenda &lt; 500000,ei.precovenda,0.00) * 0.90 as f_preco_venda_minimo_sug
, iif(ei.precovenda &lt; 500000,ei.precovenda,0.00) * 0.90 as preco_minimo_venda_novo
, ei.vlunit as f_custo_reposicao


, ei.cst as cst_csosn
, ei.cstpiscofins as cst_pis
, ei.cstpiscofins as cst_cofins
, ei.cstipi as cst_ipi
, ei.codfor as codigo_produto_fornecedor
, ei.cfop as codigo_cfop_temp
, case
    when ei.icms > 0 then replace(ei.icms,'.',',')
    else case right(ei.cst,2)
           when '60' then 'S'
           when '40' then 'I'
           else 'N'
         end
  end as tributo_compra

from ent e
join itme ei
  on ei.codent = e.codigo

where
  e.status = 'F'
  and e.dtemissao is not null
  and e.dtentrada is not null

order by
  e.codigo
, ei.contador</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cached_row_meta_active>N</cached_row_meta_active>
    <row-meta>
      <value-meta>
        <type>Integer</type>
        <storagetype>normal</storagetype>
        <name>CODIGO_ENTRADA_ANTERIOR</name>
        <length>9</length>
        <precision>0</precision>
        <origin>entrada_item</origin>
        <comments>CODIGO_ENTRADA_ANTERIOR</comments>
        <conversion_Mask>####0;-####0</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Integer</type>
        <storagetype>normal</storagetype>
        <name>CODIGO_PRODUTO_ANTERIOR</name>
        <length>9</length>
        <precision>0</precision>
        <origin>entrada_item</origin>
        <comments>CODIGO_PRODUTO_ANTERIOR</comments>
        <conversion_Mask>####0;-####0</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Integer</type>
        <storagetype>normal</storagetype>
        <name>FRACAO_COMPRA2</name>
        <length>9</length>
        <precision>0</precision>
        <origin>entrada_item</origin>
        <comments>FRACAO_COMPRA2</comments>
        <conversion_Mask>####0;-####0</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>QUANTIDADE</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>QUANTIDADE</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>VALOR_UNITARIO</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>VALOR_UNITARIO</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_DESCONTO</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_DESCONTO</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_BASE_CALCULO_ICMS</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_BASE_CALCULO_ICMS</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_ST_BASEICMS</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_ST_BASEICMS</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_ST_VALORICMS</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_ST_VALORICMS</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_VALOR_TOTAL_PIS</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_VALOR_TOTAL_PIS</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_VALOR_TOTAL_COFINS</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_VALOR_TOTAL_COFINS</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>ALIQUOTA_ICMS</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>ALIQUOTA_ICMS</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_BASE_CALCULO_PIS</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_BASE_CALCULO_PIS</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_BASE_CALCULO_COFINS</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_BASE_CALCULO_COFINS</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_VALOR_TOTAL_IPI</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_VALOR_TOTAL_IPI</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_PIS_COMPRA</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_PIS_COMPRA</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_COFINS_COMPRA</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_COFINS_COMPRA</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_FRETE_CIF</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_FRETE_CIF</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_OUTRA_DESPESA</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_OUTRA_DESPESA</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_CUSTO_MEDIO</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_CUSTO_MEDIO</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_PMZ</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_PMZ</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>PRECO_VENDA_SUGERIDO</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>PRECO_VENDA_SUGERIDO</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>PRECO_VENDA_NOVO</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>PRECO_VENDA_NOVO</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>PRECO_VENDA</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>PRECO_VENDA</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_PRECO_VENDA_MINIMO_SUG</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_PRECO_VENDA_MINIMO_SUG</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>PRECO_MINIMO_VENDA_NOVO</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>PRECO_MINIMO_VENDA_NOVO</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>Number</type>
        <storagetype>normal</storagetype>
        <name>F_CUSTO_REPOSICAO</name>
        <length>15</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>F_CUSTO_REPOSICAO</comments>
        <conversion_Mask>####0.0#########;-####0.0#########</conversion_Mask>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>CST_CSOSN</name>
        <length>3</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>CST_CSOSN</comments>
        <conversion_Mask/>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>CST_PIS</name>
        <length>1</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>CST_PIS</comments>
        <conversion_Mask/>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>CST_COFINS</name>
        <length>1</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>CST_COFINS</comments>
        <conversion_Mask/>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>CST_IPI</name>
        <length>3</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>CST_IPI</comments>
        <conversion_Mask/>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>CODIGO_PRODUTO_FORNECEDOR</name>
        <length>20</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>CODIGO_PRODUTO_FORNECEDOR</comments>
        <conversion_Mask/>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>CODIGO_CFOP_TEMP</name>
        <length>6</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>CODIGO_CFOP_TEMP</comments>
        <conversion_Mask/>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
      <value-meta>
        <type>String</type>
        <storagetype>normal</storagetype>
        <name>TRIBUTO_COMPRA</name>
        <length>24</length>
        <precision>-1</precision>
        <origin>entrada_item</origin>
        <comments>TRIBUTO_COMPRA</comments>
        <conversion_Mask/>
        <decimal_symbol>,</decimal_symbol>
        <grouping_symbol>.</grouping_symbol>
        <currency_symbol/>
        <trim_type>none</trim_type>
        <case_insensitive>N</case_insensitive>
        <collator_disabled>Y</collator_disabled>
        <collator_strength>0</collator_strength>
        <sort_descending>N</sort_descending>
        <output_padding>N</output_padding>
        <date_format_lenient>N</date_format_lenient>
        <date_format_locale>pt_BR</date_format_locale>
        <date_format_timezone>GMT-03:00</date_format_timezone>
        <lenient_string_to_number>N</lenient_string_to_number>
      </value-meta>
    </row-meta>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>176</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>gen</name>
    <type>Sequence</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <valuename>CODIGO</valuename>
    <use_database>N</use_database>
    <connection/>
    <schema/>
    <seqname>SEQ_</seqname>
    <use_counter>Y</use_counter>
    <counter_name/>
    <start_at>1</start_at>
    <increment_by>1</increment_by>
    <max_value>999999999</max_value>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1022</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>lcfop</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>cfop</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>codigo_cfop_temp</name>
        <field>CODIGO</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>CODIGO</name>
        <rename>codigo_cfop</rename>
        <default>1102</default>
        <type>Integer</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>646</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>lentrada</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>entrada</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>CODIGO_ENTRADA_ANTERIOR</name>
        <field>CODIGO_ANTERIOR</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>UF</name>
        <rename>uf</rename>
        <default/>
        <type>String</type>
      </value>
      <value>
        <name>CODIGO_FILIAL</name>
        <rename>codigo_filial</rename>
        <default/>
        <type>Integer</type>
      </value>
      <value>
        <name>CODIGO</name>
        <rename>CODIGO_ENTRADA</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>176</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>lproduto</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>produto</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>CODIGO_PRODUTO_ANTERIOR</name>
        <field>CODIGO_ANTERIOR</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>ANTERIOR</name>
        <rename>ANTERIOR</rename>
        <default>NULO</default>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1040</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>lproduto 2</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>produto</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>ANTERIOR</name>
        <field>ANTERIOR</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>CODIGO</name>
        <rename>CODIGO_PRODUTO</rename>
        <default/>
        <type>Integer</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1184</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>lproduto_parametros</name>
    <type>DBLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <cache>N</cache>
    <cache_load_all>N</cache_load_all>
    <cache_size>0</cache_size>
    <lookup>
      <schema/>
      <table>produto_parametros</table>
      <orderby/>
      <fail_on_multiple>N</fail_on_multiple>
      <eat_row_on_failure>N</eat_row_on_failure>
      <key>
        <name>codigo_produto</name>
        <field>CODIGO_PRODUTO</field>
        <condition>=</condition>
        <name2/>
      </key>
      <key>
        <name>codigo_filial</name>
        <field>CODIGO_FILIAL</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>F_LUCRO</name>
        <rename>f_lucro</rename>
        <default/>
        <type>Number</type>
      </value>
      <value>
        <name>F_PIS_VENDA</name>
        <rename>f_pis_venda</rename>
        <default/>
        <type>BigNumber</type>
      </value>
      <value>
        <name>F_COFINS_VENDA</name>
        <rename>f_cofins_venda</rename>
        <default/>
        <type>BigNumber</type>
      </value>
      <value>
        <name>F_ICMS_VENDA</name>
        <rename>f_icms_venda</rename>
        <default/>
        <type>BigNumber</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>364</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>_ajustes 3</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>GANSO</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>Y</single_statement>
    <replace_variables>N</replace_variables>
    <quoteString>N</quoteString>
    <sql>create or alter trigger tr_entit_cvd for entrada_item
active before insert position 0
as
begin
    new.cst_csosn_origem = new.cst_csosn; --icms
    new.f_base_calculo_icms_origem = new.f_base_calculo_icms;
    new.aliquota_icms_origem = new.aliquota_icms;
    new.tributo_origem = new.tributo_compra;
    
    new.f_st_mva_origem = new.f_st_mva; --st
    new.f_st_baseicms_origem = new.f_st_baseicms;
    new.f_aliquota_icms_st_origem = new.f_aliquota_icms_st;
    new.f_st_valoricms_origem = new.f_st_valoricms;
    
    new.cst_pis_origem = new.cst_pis; --pis
    new.f_pis_compra_origem = new.f_pis_compra;
    new.f_base_calculo_pis_origem = new.f_base_calculo_pis;
    new.f_valor_total_pis_origem = new.f_valor_total_pis;
    
    new.cst_cofins_origem = new.cst_cofins;  --cofins
    new.f_cofins_compra_origem = new.f_cofins_compra;
    new.f_base_calculo_cofins_origem = new.f_base_calculo_cofins;
    new.f_valor_total_cofins_origem = new.f_valor_total_cofins;
    
    new.cst_ipi_origem = new.cst_ipi_origem; --ipi
    new.f_base_calculo_ipi_origem = new.f_base_calculo_ipi;
    new.aliquota_ipi_origem = new.aliquota_ipi;
    new.f_valor_total_ipi_origem = new.f_valor_total_ipi;
    
    new.f_icms_base_calculo_fcp_origem = new.f_icms_base_calculo_fcp; --fcp
    new.f_icms_aliquota_fcp_origem = new.f_icms_aliquota_fcp;
end;

	</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
    </arguments>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>832</xloc>
      <yloc>66</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step_error_handling>
    <error>
      <source_step>_entrada_item</source_step>
      <target_step>b 3</target_step>
      <is_enabled>Y</is_enabled>
      <nr_valuename/>
      <descriptions_valuename/>
      <fields_valuename/>
      <codes_valuename/>
      <max_errors/>
      <max_pct_errors/>
      <min_pct_rows/>
    </error>
    <error>
      <source_step>_entrada_item 2</source_step>
      <target_step/>
      <is_enabled>Y</is_enabled>
      <nr_valuename/>
      <descriptions_valuename/>
      <fields_valuename/>
      <codes_valuename/>
      <max_errors/>
      <max_pct_errors/>
      <min_pct_rows/>
    </error>
    <error>
      <source_step>_entrada_item 3</source_step>
      <target_step>_entrada_item 2</target_step>
      <is_enabled>Y</is_enabled>
      <nr_valuename/>
      <descriptions_valuename/>
      <fields_valuename/>
      <codes_valuename/>
      <max_errors/>
      <max_pct_errors/>
      <min_pct_rows/>
    </error>
    <error>
      <source_step>lproduto</source_step>
      <target_step/>
      <is_enabled>Y</is_enabled>
      <nr_valuename/>
      <descriptions_valuename/>
      <fields_valuename/>
      <codes_valuename/>
      <max_errors/>
      <max_pct_errors/>
      <min_pct_rows/>
    </error>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
  <attributes/>
</transformation>
